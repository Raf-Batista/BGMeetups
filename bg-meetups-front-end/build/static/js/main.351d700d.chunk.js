(this["webpackJsonpbg-meetups-front-end"]=this["webpackJsonpbg-meetups-front-end"]||[]).push([[0],{37:function(e,t,a){e.exports=a.p+"static/media/bg1.36191bf8.jpg"},38:function(e,t,a){e.exports=a.p+"static/media/bg2.79935692.jpg"},39:function(e,t,a){e.exports=a.p+"static/media/bg3.be1635df.jpg"},40:function(e,t,a){e.exports=a.p+"static/media/bg4.62ddb898.jpg"},41:function(e,t,a){e.exports=a.p+"static/media/bg5.37b17102.jpg"},44:function(e,t,a){e.exports=a.p+"static/media/dice.51a9d64a.svg"},48:function(e,t,a){e.exports=a(77)},53:function(e,t,a){},54:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),l=(a(53),a(54),a(8)),s=a(11),o=a(24),i=a(45),m=a(37),u=a.n(m),p=a(38),d=a.n(p),E=a(39),b=a.n(E),v=a(40),f=a.n(v),g=a(41),h=a.n(g),N=function(){return r.a.createElement("div",{className:"container text-center mt-5 home-img"},r.a.createElement("div",{id:"carouselExampleIndicators",className:"carousel slide mt-5","data-ride":"carousel"},r.a.createElement("ol",{className:"carousel-indicators"},r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"0",className:"active"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"1"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"2"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"3"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"4"})),r.a.createElement("div",{className:"carousel-inner"},r.a.createElement("div",{className:"carousel-item active"},r.a.createElement("img",{src:u.a,className:"d-block w-100",alt:"..."})),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{src:d.a,className:"d-block w-100",alt:"..."})),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{src:b.a,className:"d-block w-100",alt:"..."})),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{src:f.a,className:"d-block w-100",alt:"..."})),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{src:h.a,className:"d-block w-100",alt:"..."}))),r.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleIndicators",role:"button","data-slide":"prev"},r.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Previous")),r.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleIndicators",role:"button","data-slide":"next"},r.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Next"))))},y=function(){return r.a.createElement("div",{className:"container my-5 about"},r.a.createElement("span",null,"Hi, I'm Rafael Batista and this is my personal dream project. BGMeetups will be an application where you can play boardgames virtually due to the pandemic without needing multiple copies of a game or any other hassle. This app will start out with basic features but will expand over time. The goal is to be able to activte Mecatol Rex virtually Below you will find a list of planned major features/updates."),r.a.createElement("small",{className:"d-block mt-3"},"This site uses cookies for authentication and authorization. This is a work in progress so just use a fake email. There is no email system set up yet. No emails will ever be visible on the front end, the back end will handle everything email related."),r.a.createElement("h3",{className:"mt-5"},"Planned Features"),r.a.createElement("ul",{className:"mt-3 list-group list-group-flush"},r.a.createElement("li",{className:"mt-2 list-group-item"},r.a.createElement("h4",null,"Create a Meetup"),r.a.createElement("div",null,"This feature will allow a user to create a meetup at a certain date or time. All user's who are a part of that group will receive a notification as well as an option to accept or deny the meetup.")),r.a.createElement("li",{className:"mt-2 list-group-item"},r.a.createElement("h4",null,"Zoom Integration"),r.a.createElement("div",null,"Zoom will be integrated for groups to use to play virtually.")),r.a.createElement("li",{className:"mt-2 list-group-item"},r.a.createElement("h4",null,"Email System"),r.a.createElement("div",null,"Once the application has enough features to function I will implement an email system with verification, etc.")),r.a.createElement("li",{className:"mt-3 list-group-item"},r.a.createElement("h4",null,"Third Pary Login"),r.a.createElement("div",{className:"mt-2"},"As of now you can not log into BGMeetups using third parties. The links are there as placeholders.")),r.a.createElement("li",{className:"mt-3 list-group-item"},r.a.createElement("h4",null,"Suggestions / Bug Report"),r.a.createElement("div",{className:"mt-2"},"I plan on setting up a system to send suggestions and report a bug. Only verified emails will be accepted.")),r.a.createElement("li",{className:"mt-3 list-group-item"},r.a.createElement("h4",null,"Group Privacy, Reputation System, and Friends List"),r.a.createElement("div",{className:"mt-2"},"You will be able to set a group to Private user's can not request an invite. A user's reputation lowers if they miss a meetup along with other factors. A user's reputation will not change for missing a ")),r.a.createElement("li",{className:"mt-3 list-group-item"},r.a.createElement("h4",null,"MarketPlace Functionality"),r.a.createElement("div",{className:"mt-2"},"I plan on setting up a Math Trade system based on region. Whenever someone puts up a game in your region that you want and you have a game they want, you will be notified via a message."))))},O=a(1),S=a(13),j=function(){Object(O.c)((function(e){return e.user})),Object(O.b)(),Object(s.f)();return r.a.createElement("div",{"data-test":"component-navbar"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark"},r.a.createElement(l.b,{exact:!0,className:"navbar-brand",to:"/home","data-test":"link-navbar"},"BG Meetups"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse mt-1",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{exact:!0,className:"nav-link",to:"/groups","data-test":"link-navbar"},"Groups")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{exact:!0,className:"nav-link",to:"/market","data-test":"link-navbar"},"Market")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{exact:!0,className:"nav-link",to:"/","data-test":"link-navbar"},"About"))))))},C=a(10),T=a(2),k=a(4),x=a(5),I=a.n(x),_=a(9),w=function(e){return{type:"FETCH_LOGIN_SUCCESS",payload:e}},U=function(e){return{type:"FETCH_LOGIN_FAILURE",payload:e}},P=a(3),R="".concat("http://localhost:3000","/users"),A=function(e){return function(){var t=Object(_.a)(I.a.mark((function t(a){var n,r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FETCH_SIGNUP_REQUEST"}),t.prev=1,t.next=4,fetch(R,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)});case 4:return n=t.sent,t.next=7,n.json();case 7:if((r=t.sent).errors){t.next=11;break}return P.b.success("Account successfully created",{position:P.b.POSITION.TOP_CENTER}),t.abrupt("return",a({type:"FETCH_SIGNUP_SUCCESS",payload:r}));case 11:P.b.error(r.error,{position:P.b.POSITION.TOP_CENTER}),a(U(r.error)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()},G=function(e){var t=Object(n.useState)({username:"",email:"",password:""}),a=Object(k.a)(t,2),c=a[0],s=a[1],o=Object(O.c)((function(e){return e.user})),i=Object(O.b)(),m=e.history;Object(n.useEffect)((function(){"{}"!==JSON.stringify(o)&&m.push("/")}));var u=function(e){s(Object(T.a)(Object(T.a)({},c),{},Object(C.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"container text-center mt-4 signin"},r.a.createElement("h2",{"data-test":"heading"},"Signup"),r.a.createElement("div",{className:"mt-4"},r.a.createElement("button",{className:" btn text-center",name:"facebook","data-test":"button-oauth"},r.a.createElement(S.a,{icon:["fab","facebook"],size:"lg",className:"mr-2"}),r.a.createElement("span",{className:"mr-2"},"Facebook"))),r.a.createElement("div",{className:"my-2"},r.a.createElement("button",{className:"btn text-center","data-test":"button-oauth"},r.a.createElement(S.a,{icon:["fab","twitter"],size:"lg",className:"mr-2"}),r.a.createElement("span",{className:"mr-4"},"Twitter"))),r.a.createElement("div",{className:"mb-3"},r.a.createElement("button",{className:" btn text-center","data-test":"button-oauth"},r.a.createElement(S.a,{icon:["fab","google"],size:"lg",className:"mr-2"}),r.a.createElement("span",{className:"mr-4"},"Google"))),r.a.createElement("small",null,"Create an account using your email"),r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i(A(c)),s({username:"",email:"",password:""})},"data-test":"form-signup"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",name:"username",type:"text",placeholder:"username",onChange:u,value:c.username,required:!0}),r.a.createElement("input",{className:"form-control  mt-2",name:"email",type:"email",placeholder:"email",onChange:u,value:c.email,required:!0}),r.a.createElement("input",{className:"form-control  mt-2",name:"password",type:"password",placeholder:"password",onChange:u,value:c.password,required:!0}),r.a.createElement("button",{className:"btn mt-2",type:"submit"},"Create Account"),r.a.createElement("small",{className:"d-block mt-1"},"Already have an account?"," ",r.a.createElement(l.b,{to:"/login","data-test":"link",className:"d-block"},"Login"))))))},F="".concat("http://localhost:3000","/users"),M=function(e){return function(){var t=Object(_.a)(I.a.mark((function t(a){var n,r,c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FETCH_EDIT_REQUEST"}),t.prev=1,(n=new FormData).append("id",e.id),e.avatar&&n.append("avatar",e.avatar),e.username&&n.append("username",e.username),e.email&&n.append("email",e.email),e.password&&n.append("password",e.password),t.next=10,fetch("".concat(F,"/").concat(e.id),{credentials:"include",method:"PATCH",body:n});case 10:return r=t.sent,t.next=13,r.json();case 13:(c=t.sent).error||(P.b.success("Edit Successful",{position:P.b.POSITION.TOP_CENTER}),a({type:"FETCH_EDIT_SUCCESS",payload:c})),P.b.error(c.error,{position:P.b.POSITION.TOP_CENTER}),a({type:"FETCH_EDIT_FAILURE",payload:c.error}),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(1),console.log(t.t0);case 22:case"end":return t.stop()}}),t,null,[[1,19]])})));return function(e){return t.apply(this,arguments)}}()},H=function(e){e.history;var t=e.user,a=Object(n.useState)(!1),c=Object(k.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)({email:"",password:"",id:t.id}),i=Object(k.a)(o,2),m=i[0],u=i[1],p=Object(O.b)(),d=function(){s(!l)},E=function(e){u(Object(T.a)(Object(T.a)({},m),{},Object(C.a)({},e.target.name,e.target.value)))},b=r.a.createElement("form",{className:"mt-4 mx-lg-auto ml-sm-4",onSubmit:function(e){e.preventDefault(),p(M(m)),u(Object(T.a)(Object(T.a)({},m),{},{email:"",password:""})),s(!l)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"d-block my-2"},"Email Address"),r.a.createElement("input",{name:"email",onChange:E,type:"email",placeholder:t.email,value:m.email}),r.a.createElement("label",{className:"d-block my-2"},"Password"),r.a.createElement("input",{name:"password",onChange:E,type:"password",placeholder:"*******",value:m.password}),r.a.createElement("div",null,r.a.createElement("button",{className:"d-inline mx-2 mt-2 border-0 bg-transparent",type:"submit"},"Save"),r.a.createElement("button",{className:"d-inline border-0 bg-transparent",onClick:d},"Cancel")))),v=r.a.createElement("div",null,r.a.createElement("div",{className:"mt-4"},"Email Address"),r.a.createElement("div",{className:"mt-2"},t.email),r.a.createElement("div",{className:"mt-2"},"Password"),r.a.createElement("div",{className:"mt-2"},"**********"),r.a.createElement("button",{className:"pointer border-0 bg-transparent",onClick:d},"Edit"));return r.a.createElement("div",null,r.a.createElement("span",{className:"d-block"},"This is your account information. Only visible to you."),r.a.createElement("span",{className:"d-block"},"Note: Changes to your email and password will change the information you use to login"),l?b:v)},L=function(e){e.history;var t=e.user,a=Object(n.useState)(!1),c=Object(k.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)({username:"",imagePreview:"",id:t.id,avatar:null}),i=Object(k.a)(o,2),m=i[0],u=i[1],p=Object(O.b)(),d=function(){s(!l)},E=r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),p(M(m)),u(Object(T.a)(Object(T.a)({},m),{},{username:"",imagePreview:"",avatar:null})),s(!l)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",null,r.a.createElement("img",{src:"".concat("http://localhost:3000","/").concat(t.avatar),alt:"avatar",style:{width:"128px",height:"128px"},className:"mb-3"})),r.a.createElement("div",null,r.a.createElement("input",{name:"avatar",onChange:function(e){var t=e.target.files[0];u(Object(T.a)(Object(T.a)({},m),{},{imagePreview:URL.createObjectURL(t),avatar:t}))},type:"file",className:"img-form",accept:"image/png, image/jpeg",filename:m.username}),r.a.createElement("small",{className:"d-block mt-2"},"JPG or PNG only. 1 MB max."),r.a.createElement("img",{src:m.imagePreview,style:{width:"128px",height:"128px"}})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"username",className:"d-block my-2"},"Username"),r.a.createElement("input",{name:"username",onChange:function(e){u(Object(T.a)(Object(T.a)({},m),{},Object(C.a)({},e.target.name,e.target.value)))},type:"text",placeholder:t.username,value:m.username})),r.a.createElement("div",null,r.a.createElement("button",{className:" d-inline mx-2 mt-2 border-0 bg-transparent",type:"submit"},"Save"),r.a.createElement("button",{className:" d-inline border-0 bg-transparent",onClick:d},"Cancel")))),b=r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{src:"".concat("http://localhost:3000","/").concat(t.avatar),alt:"avatar",style:{width:"128px",height:"128px"},className:"mb-3"})),r.a.createElement("div",null,r.a.createElement("span",{className:"d-block"},"Username"),r.a.createElement("span",{className:"mt-1"},t.username)),r.a.createElement("button",{className:"border-0 bg-transparent mt-1",onClick:d},"Edit"));return r.a.createElement("div",null,r.a.createElement("span",{className:"d-block mb-3"},"Profile Avatar"),l?E:b)},D=a(18),V=a.n(D),J=function(e){var t=Object(O.c)((function(e){return e.user})),a=Object(O.c)((function(e){return e.loading.FETCH_EDIT})),c=Object(n.useState)(!0),l=Object(k.a)(c,2),s=l[0],o=l[1];Object(n.useEffect)((function(){"{}"===JSON.stringify(t)&&e.history.push("/login")}));var i=function(){o(!s)};return r.a.createElement("div",{className:"container text-center mt-5"},a?r.a.createElement("div",{className:"spinner"},r.a.createElement(V.a,{color:"#7d3cff"})):null,r.a.createElement("div",{className:"heading"},r.a.createElement("h2",{className:"d-block my-3"},"Account Management"),r.a.createElement("span",null,"Update and manage your BGMeetups account")),r.a.createElement("ul",{className:"nav justify-content-center my-4"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"nav-link pointer ".concat(s?"active":""),onClick:i},"Account")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link pointer ".concat(s?"":"active"),onClick:i},"Public Profile"))),s?r.a.createElement(H,{user:t,history:e.history}):r.a.createElement(L,{user:t}))},Q=function(e){var t=parseInt(e.match.params.id),a=Object(O.c)((function(e){return e.groups}))||[];console.log(a);var n=a.find((function(e){return e.id===t}))||{},c=Object(O.c)((function(e){return e.user})),s=r.a.createElement(l.b,{to:{pathname:"/groups/".concat(n.id,"/edit")}},"Manage");return r.a.createElement("div",{className:"container mt-5 text-center"},r.a.createElement("div",null,"Name: ",n.name),r.a.createElement("div",null,"Purpose: ",n.purpose),r.a.createElement("div",null,"Members: ",n.memberships?n.memberships.length:0),n.owner===c.username?s:null)},B=function(e){var t=e.groups;return t=t||[],r.a.createElement("div",{className:"container text-center "},t.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(l.b,{exact:!0,to:"/groups/".concat(e.id),"data-test":"link-navbar",className:"d-block mt-3"},e.name," "))})))},z=function(e){return function(){var t=Object(_.a)(I.a.mark((function t(a){var n,r,c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="".concat("http://localhost:3000","/users/").concat(e.user_id,"/groups/").concat(e.group_id),t.next=4,fetch(n,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},method:"PATCH",body:JSON.stringify(e)});case 4:return r=t.sent,t.next=7,r.json();case 7:if((c=t.sent).error){t.next=11;break}return P.b.success("Group updated succesfully",{position:P.b.POSITION.TOP_CENTER}),t.abrupt("return",a({type:"EDIT_GROUP_SUCCESS",payload:c}));case 11:a({type:"EDIT_GROUP_FAILURE",payload:c.error}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},q=function(e){var t=e.group,a=e.history,c=Object(O.b)(),l=Object(O.c)((function(e){return e.user})),s=Object(n.useState)({name:"",purpose:""}),o=Object(k.a)(s,2),i=o[0],m=o[1],u=function(e){m(Object(T.a)(Object(T.a)({},i),{},Object(C.a)({},e.target.name,e.target.value)))};return r.a.createElement("form",{className:"mt-4 mx-lg-auto ml-sm-4 mt-5",onSubmit:function(e){e.preventDefault();var n={group:i,user_id:l.id,group_id:t.id};c(z(n)),a.push("/my-groups")}},r.a.createElement("div",{className:"form-group text-center"},r.a.createElement("label",{className:"d-block my-2"},"Name"),r.a.createElement("input",{name:"name",type:"text",onChange:u,value:i.name,placeholder:t.name}),r.a.createElement("label",{className:"d-block my-2"},"Purpose"),r.a.createElement("input",{name:"purpose",type:"text",onChange:u,value:i.purpose,placeholder:t.purpose}),r.a.createElement("div",null,r.a.createElement("button",{className:"d-inline mx-2 mt-2 border-0 bg-transparent",type:"submit"},"Update"))))},W=function(e){var t=e.member;return r.a.createElement("div",{className:"mt-3"},r.a.createElement("span",null,t))},Y=function(e){return function(){var t=Object(_.a)(I.a.mark((function t(a){var n,r,c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat("http://localhost:3000","/invitations"),a({type:"RECEIVED_INVITATION_REQUEST"}),t.prev=2,t.next=5,fetch(n,{credentials:"include",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});case 5:return r=t.sent,t.next=8,r.json();case 8:if(c=t.sent,console.log(c),c.error){t.next=12;break}return t.abrupt("return",P.b.success("Invitation Sent",{position:P.b.POSITION.TOP_CENTER}));case 12:a({type:"RECEIVED_INVITATION_REQUEST",payload:c.error}),P.b.error(c.error,{position:P.b.POSITION.TOP_CENTER}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(2),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[2,16]])})));return function(e){return t.apply(this,arguments)}}()},Z=function(e){var t=e.userId,a=e.groupId,c=(e.history,Object(n.useState)({recipient:"",user_id:t,group_id:a})),l=Object(k.a)(c,2),s=l[0],o=l[1],i=Object(O.b)();return r.a.createElement("form",{className:"form-group mt-4 mx-lg-auto ml-sm-4",onSubmit:function(e){e.preventDefault(),i(Y(s)),o(Object(T.a)(Object(T.a)({},s),{},{recipient:""}))}},r.a.createElement("label",{className:"d-block my-2"},"Username"),r.a.createElement("input",{name:"recipient",type:"text",onChange:function(e){o(Object(T.a)(Object(T.a)({},s),{},Object(C.a)({},e.target.name,e.target.value)))},value:s.recipient}),r.a.createElement("div",{className:"mt-2"},r.a.createElement("button",{className:"mr-2"},"Invite"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),console.log("Cancel")}},"Cancel")))},$=function(e){var t=e.members,a=e.history,c=e.userId,l=e.groupId;t=t||[];var s=Object(n.useState)(!1),o=Object(k.a)(s,2),i=o[0],m=o[1];return r.a.createElement("div",{className:"container"},r.a.createElement("span",{className:"pointer my-4",onClick:function(){m(!i)}},"Invite to Group"),i?r.a.createElement(Z,{history:a,userId:c,groupId:l}):t.map((function(e){return r.a.createElement(W,{member:e})})))},K=function(e){var t=e.history,a=Object(O.c)((function(e){return e.user})),c=Object(n.useState)(!0),l=Object(k.a)(c,2),s=l[0],o=l[1],i=parseInt(e.match.params.id),m=(a.groups||[]).find((function(e){return e.id===i}))||{};Object(n.useEffect)((function(){}));var u=function(){o(!s)};return r.a.createElement("div",{className:"container text-center mt-5"},r.a.createElement("div",{className:"heading"},r.a.createElement("h2",{className:"d-block my-3"},"Group Management"),r.a.createElement("span",null,"Update your group info and manage members")),r.a.createElement("ul",{className:"nav justify-content-center my-4"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"nav-link pointer ".concat(s?"active":""),onClick:u},"Manage Members")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link pointer ".concat(s?"":"active"),onClick:u},"Edit Group Info"))),s?r.a.createElement($,{members:m.memberships,history:t,userId:a.id,groupId:m.id}):r.a.createElement(q,{group:m,history:t}))},X=function(){var e=Object(n.useState)(""),t=Object(k.a)(e,2),a=t[0],c=t[1],l=a.toLowerCase(),s=Object(O.c)((function(e){return e.groups})).filter((function(e){if(e.name.toLowerCase().includes(l))return e}));return r.a.createElement("div",{className:"container mt-5 text-center"},r.a.createElement("div",{className:"d-inline"},r.a.createElement("form",{className:" d-inline"},r.a.createElement("input",{type:"text",name:"query",placeholder:"Search for groups by name.",onChange:function(e){c(e.target.value)},className:"pl-2"}))),r.a.createElement(B,{groups:s}))},ee=function(e,t){return function(){var e=Object(_.a)(I.a.mark((function e(a){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"ACCEPT_INVITATION_REQUEST"}),e.next=4,fetch(t,{credentials:"include",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 4:return n=e.sent,e.next=7,n.json();case 7:if((r=e.sent).error){e.next=11;break}return P.b.success("Accepted Invite",{position:P.b.POSITION.TOP_CENTER}),e.abrupt("return",a({type:"ACCEPT_INVITATION_SUCCESS",payload:r}));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},te=function(e){var t=e.invitation,a=e.history,n=t.id,c=t.from,l=t.group_name,s=t.invitation_link,o="".concat("http://localhost:3000","/enc/").concat(n,"/").concat(s),i=Object(O.b)();return r.a.createElement("div",{className:"container mt-5"},r.a.createElement("span",{className:"d-block"},c," has invited you to join the group ",l),r.a.createElement("span",{className:"d-block mt-2"},"Click the link below or copy and paste the link into the address bar"),r.a.createElement("span",{className:"d-block pointer mt-2 invite-link",onClick:function(){i(ee(n,o)),a.push("/invites")}},o))},ae=function(e){var t=e.invitations,a=e.history;return r.a.createElement("div",null,t.map((function(e){return r.a.createElement(te,{invitation:e,history:a})})))},ne=function(e){var t=e.history,a=Object(O.c)((function(e){return e.invitations}));return r.a.createElement("div",null,r.a.createElement(ae,{invitations:a,history:t}))},re=function(e){var t=e.boardgame;return r.a.createElement("div",{className:"container text-center my-4"},r.a.createElement("div",{className:""},t.name),r.a.createElement("div",null,t.description),r.a.createElement("div",null,t.price),r.a.createElement("button",{className:"btn"},"Contact Seller"))},ce=function(){var e=function(e){var t=[];try{return e.forEach((function(e){e.boardgames.length&&t.push(e.boardgames)})),t.flat(1)}catch(a){console.log(a)}}(Object(O.c)((function(e){return e.users})));return r.a.createElement("div",null,e.length?e.map((function(e){return r.a.createElement(re,{boardgame:e})})):r.a.createElement("div",{className:" mt-5 text-center"},"It's Quiet... Too Quiet..."))},le=function(e){var t=Object(n.useState)({name:"",description:"",price:0,image:null,imagePreview:null}),a=Object(k.a)(t,2),c=a[0],l=a[1],s=function(e){l(Object(T.a)(Object(T.a)({},c),{},Object(C.a)({},e.target.name,e.target.value)))};return r.a.createElement("form",{className:"mt-4 mx-lg-auto ml-sm-4",onSubmit:function(e){e.preventDefault(),console.log("Submit Boardgame to marketplace"),console.log(c)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"d-block my-2"},"Name"),r.a.createElement("input",{name:"name",type:"text",onChange:s}),r.a.createElement("label",{className:"d-block my-2"},"Description"),r.a.createElement("textarea",{name:"description",type:"text",row:"3",className:"description",onChange:s}),r.a.createElement("label",{className:"d-block my-2"},"Price"),r.a.createElement("input",{name:"price",type:"number",min:"1",step:"any",onChange:s}),r.a.createElement("div",{className:"mt-3"},r.a.createElement("input",{name:"test",type:"file",className:"img-form",accept:"image/png, image/jpeg",filename:c.name,onChange:function(e){var t=e.target.files[0];l(Object(T.a)(Object(T.a)({},c),{},{imagePreview:URL.createObjectURL(t),image:t}))}}),r.a.createElement("small",{className:"d-block my-2"},"JPG or PNG only. 1 MB max."),r.a.createElement("img",{src:c.imagePreview,style:{width:"128px",height:"128px"}})),r.a.createElement("div",null,r.a.createElement("button",{className:"d-inline mx-2 mt-2 border-0 bg-transparent",type:"submit"},"Save"),r.a.createElement("button",{className:"d-inline border-0 bg-transparent"},"Cancel"))))},se=function(e){var t=Object(n.useState)(!0),a=Object(k.a)(t,2),c=a[0],l=a[1],s=e.history,o=Object(O.c)((function(e){return e.user}));Object(n.useEffect)((function(){"{}"===JSON.stringify(o)&&(s.push("/account"),P.b.error("You Shall Not Pass!",{position:P.b.POSITION.TOP_CENTER}))}));var i=function(){l(!c)};return r.a.createElement("div",{className:"container text-center mt-5"},r.a.createElement("div",{className:"heading"},r.a.createElement("h2",{className:"d-block my-3"},"My Marketplace"),r.a.createElement("span",null,"View and edit your posts in the marketplace or create a new post to sell a game")),r.a.createElement("ul",{className:"nav justify-content-center my-4"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"nav-link pointer ".concat(c?"active":""),onClick:i},"My Market Games")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link pointer ".concat(c?"":"active"),onClick:i},"Sell A Game"))),c?null:r.a.createElement(le,null))},oe=function(e,t){return function(){var a=Object(_.a)(I.a.mark((function a(n){var r,c,l;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"CREATE_GROUP_REQUEST"}),r="".concat("http://localhost:3000","/users/").concat(t,"/groups"),a.next=5,fetch(r,{credentials:"include",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});case 5:return c=a.sent,a.next=8,c.json();case 8:if((l=a.sent).error){a.next=12;break}return P.b.success("Group Created",{position:P.b.POSITION.TOP_CENTER}),a.abrupt("return",n({type:"CREATE_GROUP_SUCCESS",payload:l}));case 12:n({type:"CREATE_GROUP_FAILURE",payload:l.error}),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(0),console.log(a.t0);case 18:case"end":return a.stop()}}),a,null,[[0,15]])})));return function(e){return a.apply(this,arguments)}}()},ie=function(e){var t=Object(O.b)(),a=Object(O.c)((function(e){return e.user})),c=Object(n.useState)({name:"",purpose:""}),l=Object(k.a)(c,2),s=l[0],o=l[1],i=function(e){o(Object(T.a)(Object(T.a)({},s),{},Object(C.a)({},e.target.name,e.target.value)))};return r.a.createElement("form",{className:"mt-4 mx-lg-auto ml-sm-4",onSubmit:function(e){e.preventDefault(),t(oe(s,a.id)),o({name:"",purpose:""})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"d-block my-2"},"Name"),r.a.createElement("input",{name:"name",type:"text",onChange:i,value:s.name}),r.a.createElement("label",{className:"d-block my-2"},"Purpose"),r.a.createElement("input",{name:"purpose",type:"text",onChange:i,value:s.purpose}),r.a.createElement("div",null,r.a.createElement("button",{className:"d-inline mx-2 mt-2 border-0 bg-transparent",type:"submit"},"Create"),r.a.createElement("span",{className:"d-inline border-0 bg-transparent pointer",onClick:function(e){o({name:"",purpose:""})}},"Cancel"))))},me=function(e){var t=Object(n.useState)(!0),a=Object(k.a)(t,2),c=a[0],l=a[1],s=(e.history,Object(O.c)((function(e){return e.user})));Object(n.useEffect)((function(){}));var o=function(){l(!c)};return r.a.createElement("div",{className:"container text-center mt-5"},r.a.createElement("div",{className:"heading"},r.a.createElement("h2",{className:"d-block my-3"},"My Groups"),r.a.createElement("span",null,"Create and manage your groups. You can invite other gamers to be a member and manage members as well.")),r.a.createElement("ul",{className:"nav justify-content-center my-4"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"nav-link pointer ".concat(c?"active":""),onClick:o},"My Groups")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link pointer ".concat(c?"":"active"),onClick:o},"Create a Group"))),c?r.a.createElement(B,{groups:s.groups}):r.a.createElement(ie,null))},ue="".concat("http://localhost:3000","/sessions"),pe=function(e){return function(){var t=Object(_.a)(I.a.mark((function t(a){var n,r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FETCH_LOGIN_REQUEST"}),t.prev=1,t.next=4,fetch(ue,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:JSON.stringify(e)});case 4:return n=t.sent,t.next=7,n.json();case 7:if((r=t.sent).error){t.next=11;break}return P.b.success("Welcome Back!",{position:P.b.POSITION.TOP_CENTER}),t.abrupt("return",a(w(r)));case 11:P.b.error(r.error,{position:P.b.POSITION.TOP_CENTER}),a(U(r.error)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()},de=function(e){var t=Object(n.useState)({username:"",email:"",password:""}),a=Object(k.a)(t,2),c=a[0],s=a[1],o=Object(O.c)((function(e){return e.user})),i=Object(O.b)();Object(n.useEffect)((function(){"{}"!==JSON.stringify(o)&&e.history.push("/account")}));var m=function(e){s(Object(T.a)(Object(T.a)({},c),{},Object(C.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"container text-center mt-4 signin"},r.a.createElement("h2",{"data-test":"heading"},"Login"),r.a.createElement("div",{className:"mt-4"},r.a.createElement("button",{className:" btn text-center",name:"facebook","data-test":"button-oauth"},r.a.createElement(S.a,{icon:["fab","facebook"],size:"lg",className:"mr-2"}),r.a.createElement("span",{className:"mr-2"},"Facebook"))),r.a.createElement("div",{className:"my-2"},r.a.createElement("button",{className:"btn text-center","data-test":"button-oauth"},r.a.createElement(S.a,{icon:["fab","twitter"],size:"lg",className:"mr-2"}),r.a.createElement("span",{className:"mr-4"},"Twitter"))),r.a.createElement("div",{className:"mb-3"},r.a.createElement("button",{className:" btn text-center","data-test":"button-oauth"},r.a.createElement(S.a,{icon:["fab","google"],size:"lg",className:"mr-2"}),r.a.createElement("span",{className:"mr-4"},"Google"))),r.a.createElement("small",null,"Login account using your email"),r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),i(pe(c)),e.history.push("/account")},"data-test":"form-signup"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control  mt-2",name:"email",type:"email",placeholder:"email",onChange:m,value:c.email,required:!0}),r.a.createElement("input",{className:"form-control  mt-2",name:"password",type:"password",placeholder:"password",onChange:m,value:c.password,required:!0}),r.a.createElement("button",{className:"btn mt-2",type:"submit"},"Login"),r.a.createElement("small",{className:"d-block mt-1"},"Don't have an account?"," ",r.a.createElement(l.b,{to:"/signup","data-test":"link",className:"d-block"},"Create an account"))))))},Ee=a(44),be=a.n(Ee),ve=a(21),fe="".concat("http://localhost:3000","/logout"),ge=function(){return function(){var e=Object(_.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_LOGOUT_REQUEST"}),e.prev=1,e.next=4,fetch(fe,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},method:"DELETE"});case 4:return e.sent,P.b.success("You have logged out",{position:P.b.POSITION.TOP_CENTER}),e.abrupt("return",t({type:"FETCH_LOGOUT_SUCCESS"}));case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},he=function(){var e=Object(n.useState)(!1),t=Object(k.a)(e,2),a=t[0],c=t[1],o=Object(O.c)((function(e){return e.user})),i=function(){c(!a)},m=Object(O.b)(),u=Object(s.f)(),p=r.a.createElement("ul",null,r.a.createElement("li",{onClick:i},r.a.createElement(l.b,{exact:!0,className:"nav-link",to:"/login","data-test":"link-navbar"},"Login")),r.a.createElement("li",{onClick:i},r.a.createElement(l.b,{exact:!0,className:"nav-link",to:"/signup","data-test":"link-navbar"},"Signup")));return r.a.createElement("div",{className:"logo"},r.a.createElement("div",{className:"d-inline"},r.a.createElement("img",{src:be.a})),r.a.createElement("div",{className:"d-inline"},r.a.createElement("small",{className:"logo-name"},"BoardGame Meetups")),r.a.createElement("div",{className:"d-inline pointer",onClick:i},r.a.createElement("span",{className:"user-account-text"},"Account"),r.a.createElement(S.a,{icon:ve.a,size:"lg",className:"user-account-icon"})),r.a.createElement("div",{className:"sidenav",style:a?{width:"250px"}:{width:"0"}},r.a.createElement("a",{href:"#",className:"closebtn",onClick:i},"\xd7"),"{}"===JSON.stringify(o)?p:r.a.createElement("ul",null,r.a.createElement("li",{onClick:i},r.a.createElement(l.b,{exact:!0,className:"nav-link",to:"/account","data-test":"link-navbar"},"Account")),r.a.createElement("li",{onClick:i},r.a.createElement(l.b,{exact:!0,className:"nav-link",to:"/my-market","data-test":"link-navbar"},"My Market")),r.a.createElement("li",{onClick:i},r.a.createElement(l.b,{exact:!0,className:"nav-link",to:"/my-groups","data-test":"link-navbar"},"My Groups")),r.a.createElement("li",{onClick:i},r.a.createElement(l.b,{exact:!0,className:"nav-link",to:"/messages","data-test":"link-navbar"},"Messages")),r.a.createElement("li",null,r.a.createElement(l.b,{exact:!0,className:"nav-link",to:"/invites","data-test":"link-navbar"},"Invites")),r.a.createElement("li",{onClick:function(){m(ge()),c(!a),u.push("/")}},r.a.createElement(l.b,{exact:!0,className:"nav-link",to:"/logout","data-test":"link-navbar"},"Logout"))),r.a.createElement("li",{onClick:i})))},Ne=(a(68),"".concat("http://localhost:3000","/current_user")),ye=function(){return function(){var e=Object(_.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_LOGIN_REQUEST"}),e.prev=1,e.next=4,fetch(Ne,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:if((n=e.sent).error){e.next=10;break}return e.abrupt("return",t(w(n)));case 10:t(U(n.error)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()},Oe="".concat("http://localhost:3000","/users"),Se=function(){return function(){var e=Object(_.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_USERS_REQUEST"}),e.prev=1,e.next=4,fetch(Oe,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:if((n=e.sent).errors){e.next=10;break}return e.abrupt("return",t({type:"FETCH_USERS_SUCCESS",payload:n}));case 10:t({type:"FETCH_USERS_FAILURE",payload:n.errors}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()},je="".concat("http://localhost:3000","/groups"),Ce=function(){return function(){var e=Object(_.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_GROUPS_REQUEST"}),e.prev=1,e.next=4,fetch(je,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:if((n=e.sent).error){e.next=10;break}return e.abrupt("return",t({type:"FETCH_GROUPS_SUCCESS",payload:n}));case 10:t({type:"FETCH_GROUPS_FAILURE",payload:n.error}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()},Te=function(){return function(){var e=Object(_.a)(I.a.mark((function e(t){var a,n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_INVITATIONS_REQUEST"}),a="".concat("http://localhost:3000","/invitations"),e.prev=2,e.next=5,fetch(a,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 5:return n=e.sent,e.next=8,n.json();case 8:if((r=e.sent).error){e.next=11;break}return e.abrupt("return",t({type:"FETCH_INVITATIONS_SUCCESS",payload:r}));case 11:t({type:"FETCH_INVITATIONS_FAILURE",payload:r.error}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}()},ke=function(e){var t=e.message,a=Object(n.useState)(!1),c=Object(k.a)(a,2),l=c[0],s=c[1],o=function(){s(!l)};return r.a.createElement("div",{className:"mb-4 text-left"},l?null:r.a.createElement("h6",{className:"pointer message-subjects mb-3",onClick:o},"Subject: ",t.subject),l?r.a.createElement("div",{className:"message-body"},r.a.createElement("div",null,"From: ",t.from),r.a.createElement("div",null,"Subject: ",t.subject),r.a.createElement("div",{className:"message-content mt-1"},t.content),r.a.createElement("form",{className:"mt-3 d-inline",onSubmit:function(e){e.preventDefault(),console.log("AAARGH")}},r.a.createElement("button",{className:"btn message-delete-btn"},"Delete")),r.a.createElement("button",{className:"btn d-inline",onClick:o},"Close")):null)},xe=function(){var e=Object(n.useState)(!0),t=Object(k.a)(e,2),a=t[0],c=t[1],l=Object(O.c)((function(e){return e.user.sent_messages}))||[],s=Object(O.c)((function(e){return e.user.received_messages}))||[],o=function(){c(!a)};return r.a.createElement("div",{className:"container messages"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 text-justify"},r.a.createElement("div",{className:"pointer ".concat(a?"message-selection":""),onClick:o},"Recieved"),r.a.createElement("div",{className:"pointer mt-2 ".concat(a?"":"message-selection"),onClick:o},"Sent")),r.a.createElement("div",{className:"col-6 mt-2"},a?s.map((function(e){return r.a.createElement(ke,{key:e.id,message:e})})):l.map((function(e){return r.a.createElement(ke,{message:e})})))))},Ie=function(e,t){return function(){var a=Object(_.a)(I.a.mark((function a(n){var r,c,l;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r="".concat("http://localhost:3000","/users/").concat(t,"/messages"),n({type:"SENT_MESSAGE_REQUEST"}),a.prev=2,a.next=5,fetch(r,{credentials:"include",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});case 5:return c=a.sent,a.next=8,c.json();case 8:if((l=a.sent).error){a.next=12;break}return P.b.success("Message Sent",{position:P.b.POSITION.TOP_CENTER}),a.abrupt("return",n({type:"SENT_MESSAGE_SUCCESS",payload:l}));case 12:n({type:"SENT_MESSAGE_FAILURE",payload:l.error}),P.b.error(l.error,{position:P.b.POSITION.TOP_CENTER}),a.next=19;break;case 16:a.prev=16,a.t0=a.catch(2),console.log(a.t0);case 19:case"end":return a.stop()}}),a,null,[[2,16]])})));return function(e){return a.apply(this,arguments)}}()},_e=function(e){var t=Object(O.b)(),a=e.user,c=Object(n.useState)({recipient:"",subject:"",content:""}),l=Object(k.a)(c,2),s=l[0],o=l[1],i=function(e){o(Object(T.a)(Object(T.a)({},s),{},Object(C.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,r.a.createElement("form",{className:"mt-4 mx-lg-auto ml-sm-4",onSubmit:function(e){e.preventDefault(),t(Ie(s,a.id)),o({recipient:"",subject:"",content:""})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"d-block my-2"},"Recipient"),r.a.createElement("input",{name:"recipient",onChange:i,type:"text",value:s.recipient}),r.a.createElement("label",{className:"d-block my-2"},"Subject"),r.a.createElement("input",{name:"subject",onChange:i,type:"text",value:s.subject}),r.a.createElement("label",{className:"d-block my-2"},"Content"),r.a.createElement("textarea",{name:"content",onChange:i,type:"text-area",value:s.content,row:"3",className:"description"}),r.a.createElement("div",null,r.a.createElement("button",{className:"d-inline mx-2 mt-2 border-0 bg-transparent",type:"submit"},"Send")))))},we=a(23),Ue=function(e){var t=e.history,a=Object(O.c)((function(e){return e.user})),c=Object(O.c)((function(e){return e.loading.FETCH_EDIT})),l=Object(n.useState)(!0),s=Object(k.a)(l,2),o=s[0],i=s[1];Object(n.useEffect)((function(){"{}"===JSON.stringify(a)&&e.history.push("/login")}));var m=function(){i(!o)};return r.a.createElement("div",{className:"container text-center mt-5"},r.a.createElement("h1",null,e.message),c?r.a.createElement("div",{className:"spinner"},r.a.createElement(V.a,{color:"#7d3cff"})):null,r.a.createElement("div",{className:"heading"},r.a.createElement("h2",{className:"d-block my-3"},"Messages"),r.a.createElement("span",null,"View messages other users has sent you and create new messages")),r.a.createElement("ul",{className:"nav justify-content-center my-4"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"nav-link pointer ".concat(o?"active":""),onClick:m},"Messages")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link pointer ".concat(o?"":"active"),onClick:m},"Compose"))),o?r.a.createElement(xe,{user:a,history:t}):r.a.createElement(_e,{user:a,history:t}))};o.b.add(i.a);var Pe=function(e){var t=Object(O.c)((function(e){return e.user})),a=Object(O.c)((function(e){return e.users})),c=Object(O.c)((function(e){return e.groups})),o=Object(O.c)((function(e){return e.invitations})),i=Object(O.b)(),m=Object(O.c)((function(e){return e.loading.FETCH_LOGIN}));return Object(n.useEffect)((function(){"{}"===JSON.stringify(t)&&i(ye()),"[]"===JSON.stringify(a)&&i(Se()),"[]"===JSON.stringify(c)&&i(Ce()),"[]"===JSON.stringify(o)&&i(Te())}),[]),r.a.createElement("div",null,r.a.createElement(l.a,null,r.a.createElement(he,null),r.a.createElement(j,null),r.a.createElement(P.a,null),r.a.createElement(we.ActionCableConsumer,{channel:"WebNotificationsChannel",onReceived:function(e){var t=e.notification,a=e.receivedMessage,n=e.receivedInvitation;a&&i(function(e){return{type:"RECEIVED_MESSAGE_SUCCESS",payload:e}}(a)),n&&i({type:"RECEIVED_INVITATION_SUCCESS",payload:n}),P.b.info(t,{position:P.b.POSITION.TOP_CENTER})}},m?r.a.createElement("div",{className:"spinner"},r.a.createElement(V.a,{color:"#7d3cff"})):r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:y}),r.a.createElement(s.a,{exact:!0,path:"/Home",component:N}),r.a.createElement(s.a,{exact:!0,path:"/signup",component:G}),r.a.createElement(s.a,{exact:!0,path:"/login",component:de}),r.a.createElement(s.a,{exact:!0,path:"/account",render:function(e){return r.a.createElement(J,e)}}),r.a.createElement(s.a,{exact:!0,path:"/groups",render:function(e){return r.a.createElement(X,e)}}),r.a.createElement(s.a,{exact:!0,path:"/groups/:id/edit",component:K}),r.a.createElement(s.a,{exact:!0,path:"/market",component:ce}),r.a.createElement(s.a,{exact:!0,path:"/my-market",component:se}),r.a.createElement(s.a,{exact:!0,path:"/my-groups",component:me}),r.a.createElement(s.a,{exact:!0,path:"/invites",component:ne}),r.a.createElement(s.a,{exact:!0,path:"/groups/:id",component:Q}),r.a.createElement(s.a,{exact:!0,path:"/messages",render:function(e){return r.a.createElement(Ue,e)}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Re=a(19),Ae=a(46),Ge=a(47),Fe=function(e){return function(t,a,n){return e((function(e,a){var n,r=performance.now(),c=t(e,a),l=performance.now(),s=(n=l-r,Math.round(100*n)/100);return console.log("reducer process time:",s),c}),a,n)}},Me=function(e){return function(t){return function(a){console.group(a.type),console.info("dispatching",a);var n=t(a);return console.log("next state",e.getState()),console.groupEnd(),n}}},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USERS_SUCCESS":return t.payload;default:return e}},Le=a(20),De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SIGNUP_SUCCESS":case"FETCH_LOGIN_SUCCESS":case"FETCH_EDIT_SUCCESS":return t.payload;case"FETCH_LOGOUT_SUCCESS":return{};case"SENT_MESSAGE_SUCCESS":var a=[].concat(Object(Le.a)(e.sent_messages),[t.payload]);return Object(T.a)(Object(T.a)({},e),{},{sent_messages:a});case"RECEIVED_MESSAGE_SUCCESS":var n=[].concat(Object(Le.a)(e.received_messages),[t.payload]);return Object(T.a)(Object(T.a)({},e),{},{received_messages:n});case"CREATE_GROUP_SUCCESS":var r=[].concat(Object(Le.a)(e.groups),[t.payload]);return Object(T.a)(Object(T.a)({},e),{},{groups:r});case"EDIT_GROUP_SUCCESS":var c=e.groups.map((function(e){return e.id===t.payload.id?t.payload:e}));return Object(T.a)(Object(T.a)({},e),{},{groups:c});case"ACCEPT_INVITATION_SUCCESS":var l=[].concat(Object(Le.a)(e.groups),[t.payload.group]);return Object(T.a)(Object(T.a)({},e),{},{groups:l});default:return e}},Ve=(a(19).bindActionCreators,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_GROUPS_SUCCESS":return t.payload;case"CREATE_GROUP_SUCCESS":return[].concat(Object(Le.a)(e),[t.payload]);case"EDIT_GROUP_SUCCESS":return e.map((function(e){return e.id===t.payload.id?t.payload:e}));case"ACCEPT_INVITATION_SUCCESS":return e.map((function(e){return e.id===t.payload.group.id?t.payload.group:e}));default:return e}}),Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=/(.*)_(REQUEST|SUCCESS|FAILURE)/.exec(a);if(!n)return e;var r=Object(k.a)(n,3),c=r[1],l=r[2];return Object(T.a)(Object(T.a)({},e),{},Object(C.a)({},c,"REQUEST"===l))},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=/(.*)_(REQUEST|FAILURE)/.exec(a);if(!r)return e;var c=Object(k.a)(r,3),l=c[1],s=c[2];return Object(T.a)(Object(T.a)({},e),{},Object(C.a)({},l,"FAILURE"===s?n:""))},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_INVITATIONS_SUCCESS":return t.payload;case"RECEIVED_INVITATION_SUCCESS":return[].concat(Object(Le.a)(e),[t.payload]);case"ACCEPT_INVITATION_SUCCESS":return e.filter((function(e){return e.id!==t.payload.invitation}));default:return e}},ze=Object(Re.combineReducers)({users:He,user:De,groups:Ve,loading:Je,error:Qe,invitations:Be}),qe=function(e){var t=[Me,Ae.a],a=[Re.applyMiddleware.apply(void 0,t),Fe],n=Ge.composeWithDevTools.apply(void 0,a);return Object(Re.createStore)(ze,e,n)}();Object(c.render)(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O.a,{store:qe},r.a.createElement(we.ActionCableProvider,{url:"ws://localhost:3000/cable"},r.a.createElement(Pe,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.351d700d.chunk.js.map